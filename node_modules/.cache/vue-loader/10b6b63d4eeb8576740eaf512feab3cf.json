{"remainingRequest":"D:\\project\\seat\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\seat\\src\\components\\com\\kuang.vue?vue&type=style&index=0&id=951a757c&scoped=true&lang=css&","dependencies":[{"path":"D:\\project\\seat\\src\\components\\com\\kuang.vue","mtime":1623907552858},{"path":"D:\\project\\seat\\node_modules\\css-loader\\index.js","mtime":1623737503758},{"path":"D:\\project\\seat\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1623737524882},{"path":"D:\\project\\seat\\node_modules\\postcss-loader\\src\\index.js","mtime":1623737526954},{"path":"D:\\project\\seat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623737512899},{"path":"D:\\project\\seat\\node_modules\\vue-loader\\lib\\index.js","mtime":1623737524867}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    #kz{\n       \n    }\n    .t1{\n        width:40px;\n        height:20px;\n        margin:5px;\n\t\tbackground-color: rgb(135,145,153);\n\t\ttext-align: center;\n\t\tcolor: #fff;\n    }\n    .selected{\n\t    background-color: #FF0;\n\t}\n\t.table{\n\t\twidth: 300px;\n\t\theight: 30px;\n\t\tbackground-color:rgb(191,205,214);\n\t}\n\t.main{\n\t\tmargin-left:30px;\n\t\tmargin-bottom: 20px;\n\t}\n",{"version":3,"sources":["kuang.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgLA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"kuang.vue","sourceRoot":"src/components/com","sourcesContent":["<template>\r\n    <div id=\"kz\" style=\"display: flex;\">\r\n\t\t<div v-for=\"index of 5\" class=\"main\">\r\n\t\t\t<div class=\"table\">\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div style=\"display: flex;\">\r\n\t\t\t\t<div class='t1' v-for=\"index of 6\">\r\n\t\t\t\t    \r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n        \r\n         <div id=\"selectionRect\" style=\"position: absolute;background-color: rgba(204,246,251,0.5);border:1px solid rgb(137,189,189);;\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default{\r\n\tname:\"Hello\",\r\n\tprops:['options'],\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\txinxi:[],\r\n\t\t\titems:[],\r\n\t\t\tseat:[],\r\n\t\t\tsort:[]\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tconst app = this;\t\r\n\t\tthis.$axios.getDistributeData().then((res) => {\r\n\t\t\tapp.xinxi=res.data.data.confSeats\r\n\t\t}).catch(function (res) {\r\n\t    \tconsole.log(res.data);\r\n\t  \t});\r\n\t\t\r\n\t},\r\n    mounted:function(){\r\n\t\tvar rector = $('#selectionRect');\r\n\t\t    //拖选起点\r\n\t\t    var startX = 0;\r\n\t\t    var startY = 0;\r\n\t\t    //选择框核心代码\r\n\t\t\t\r\n\t\t    function resizeToPoint(x,y){\r\n\t\t        var width = Math.abs(x-startX);\r\n\t\t        var height = Math.abs(y-startY);\r\n\t\t        rector.width(width);\r\n\t\t        rector.height(height);\r\n\t\t        //当鼠标x方向上为向左拖动 设置left位置\r\n\t\t        if(x<startX){\r\n\t\t            rector.css({\r\n\t\t                left:(startX-width)+'px',\r\n\t\t            });\r\n\t\t        }\r\n\t\t        //当鼠标y方向上为向上拖动 设置top位置\r\n\t\t        if(y<startY){\r\n\t\t            rector.css({\r\n\t\t                top:(startY-height)+'px',\r\n\t\t            });\r\n\t\t        }\r\n\t\t    }\r\n\t\t\r\n\t\t    /**\r\n\t\t     *核心相交算法\r\n\t\t     * @param rect1{x1,y1,x2,y2}\r\n\t\t     * @param rect2 {x1,y1,x2,y2}\r\n\t\t     */\r\n\t\t    function isCross(rect1,rect2){\r\n\t\t        var xNotCross=true;//x方向上不重合\r\n\t\t        var yNotCross = true;//y方向上不重合\r\n\t\t        xNotCross =((rect1.x1>rect2.x2) || (rect2.x1>rect1.x2));\r\n\t\t        yNotCross =  ((rect1.y1>rect2.y2) || (rect2.y1>rect1.y2));\r\n\t\t        return !(xNotCross || yNotCross);\r\n\t\t    }\r\n\t\t    /**\r\n\t\t     *获取元素的矩形的起始点坐标与其对角点坐标\r\n\t\t     * @param $el\r\n\t\t     * @return {x1,y1,x2,y2}\r\n\t\t     */\r\n\t\t    function getRect($el){\r\n\t\t        var x1 = $el.offset().left;\r\n\t\t        var y1 = $el.offset().top;\r\n\t\t        var x2 = x1 +$el.outerWidth();\r\n\t\t        var y2 = y1+$el.outerHeight();\r\n\t\t        return {x1,x2,y1,y2};\r\n\t\t    }\r\n\t\t\tconst app = this;\r\n\t\t    //框选处理 如果元素与选择框相交则设置样式\r\n\t\t    function handleRectSelection(){\t\r\n\t\t        var selectionReact = getRect(rector);\r\n\t\t\t\tvar a = '';\r\n\t\t        $('.t1').each(function(index){\r\n\t\t            var rect = getRect($(this));\r\n\t\t            if(isCross(selectionReact,rect)){\r\n\t\t\t\t\t\tapp.seat.push(index)\r\n\t\t\t\t\t\tapp.items.push(app.xinxi[index])\r\n\t\t\t\t\t\t$(this).addClass('selected');\r\n\t\t            }else{\r\n\t\t                $(this).removeClass('selected');\r\n\t\t            }\r\n\t\t        });\r\n\t\t\t\t\r\n\t\t    }\r\n\t\t\tthis.GLOBAL.baseURL=app.items;\r\n\t\t\tthis.$emit('aa', this.items)\r\n\t\t\t\r\n\t\t\t\r\n\t\t$(window).on({\r\n\t\t    mousemove:function(e){\r\n\t\t        if(e.which===1){\r\n\t\t            rector.show();\r\n\t\t            resizeToPoint(e.pageX, e.pageY);\r\n\t\t        }\r\n\t\t    },\r\n\t\t    mouseup:function(){\r\n\t\t       handleRectSelection();\r\n\t\t    },\r\n\t\t    mousedown:function(e){\r\n\t\t        startX = e.pageX;\r\n\t\t        startY = e.pageY;\r\n\t\t        rector.css({\r\n\t\t            top: startY+'px',\r\n\t\t            left: startX+'px',\r\n\t\t\t\t\t\r\n\t\t        });\r\n\t\t    }\r\n\t\t});\r\n\t\t\r\n\t},\r\n\twatch:{\r\n\t\toptions:{\r\n\t\t\thandler:function(newVal,oldVal){\r\n\t\t\t\tthis.seatSort();\r\n\t\t\t\t// console.log(11111,newVal,oldVal)\r\n\t\t\t\t// console.log(this.options)\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tdeep:true\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\tseatSort(){\r\n\t\t\tthis.items=[]\r\n\t\t\tvar oT1=document.querySelectorAll(\".t1\");\r\n\t\t\t\r\n\t\t\tfor(var i = 0;i<oT1.length;i++){\r\n\t\t\t\tfor (var j=0;j<this.seat.length;j++){\r\n\t\t\t\t\tif(i == this.seat[j]){\r\n\t\t\t\t\t\tvar a=\"\"\r\n\t\t\t\t\t\tvar r,w=0;\r\n\t\t\t\t\t\tr=Math.ceil((i+1)/30)\r\n\t\t\t\t\t\tw=parseInt((i+1)%30)\r\n\t\t\t\t\t\ta=r+\"-\"+w\r\n\t\t\t\t\t\toT1[i].innerText=this.options[a]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.seat=[]\r\n\t\t\t// var a = \"\"\r\n\t\t\t// $('.t1').each(function(index){\r\n\t\t\t// \tvar row,col=0;\r\n\t\t\t// \trow=Math.ceil((index+1)/30)\r\n\t\t\t// \tcol=parseInt((index+1)%30)\r\n\t\t\t// \ta=row+\"-\"+col\r\n\t\t\t\t\r\n\t\t\t// })\r\n\t\t}\r\n\t}\r\n}\r\n    \r\n</script>\r\n\r\n<style scoped>\r\n    #kz{\r\n       \r\n    }\r\n    .t1{\r\n        width:40px;\r\n        height:20px;\r\n        margin:5px;\r\n\t\tbackground-color: rgb(135,145,153);\r\n\t\ttext-align: center;\r\n\t\tcolor: #fff;\r\n    }\r\n    .selected{\r\n\t    background-color: #FF0;\r\n\t}\r\n\t.table{\r\n\t\twidth: 300px;\r\n\t\theight: 30px;\r\n\t\tbackground-color:rgb(191,205,214);\r\n\t}\r\n\t.main{\r\n\t\tmargin-left:30px;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n</style>"]}]}